<app-menu></app-menu>
<app-logo></app-logo>
<h1 class="title">{{title}}</h1>

<div class="ui-g ui-fluid">
    <form id="formulario-de-cadastro" class="ui-sm-12 ui-md-6 ui-lg-6" novalidate #form="ngForm">
        <div id="condicao">
            <h3>Condição do carro</h3>
            <select name="condicaoCarro" required [(ngModel)]="novoCarro.condicao" 
                [ngModelOptions]="{standalone: true}"#condicao="ngModel"
                [class.border-invalid]="condicao.invalid && (condicao.dirty || condicao.touched)">
                <option  value="Novo" selected="selected">Novo</option>
                <option  value="SemiNovo" >Semi-novo</option>
                <option  value="Usado">Usado</option>
            </select>
        </div>
        <div id="nome-do-carro">
            <h3>Nome do carro</h3>
            <input type="text" [(ngModel)]="novoCarro.nome" name="carro"  placeholder="Fusca" required 
            #carName="ngModel" autocomplete="off"
            [class.border-invalid]="carName.invalid && (carName.dirty || carName.touched)">
        </div>
        <div id="preco">
            <h3>Valor de venda</h3>
            <input type="text" name="preco" [(ngModel)]="novoCarro.preco" preco 
            #carPrice="ngModel" minlength="1" placeholder="1000.00" autocomplete="off"
            [class.border-invalid]="carPrice.invalid && (carPrice.dirty || carPrice.touched)">
        </div>
        <div id="fabricante">
            <h3>Fabricante</h3>
            <select name="fabricante" required [(ngModel)]="novoCarro.montadora" #montadora="ngModel"
            [class.border-invalid]="montadora.invalid && (montadora.dirty || montadora.touched)">
                <option *ngFor="let montadora of montadoras | async" [ngValue]="montadora">{{ montadora.nome }}</option>
            </select>
        </div>
        <div id="ano-de-fabricacao">
            <h3>Ano de fabricação</h3>
            <input type="text"  name="ano" [(ngModel)]="novoCarro.anoFabricacao"
             placeholder="1990" required dataConvert  maxlength="4"
             #carDate="ngModel" autocomplete="off"
             [class.border-invalid]="carDate.invalid && (carDate.dirty || carDate.touched)">
        </div>
        <div id="dono">
            <h3>Unico dono?</h3>
            <p-radioButton name="unicoDono" value="sim" required label="Sim" [(ngModel)]="novoCarro.unicoDono"
            ></p-radioButton>
            <p-radioButton name="unicoDono" value="não" label="Não" required [(ngModel)]="novoCarro.unicoDono"></p-radioButton>
        </div>
        
        
        <div class="buttons">
            <button type="submit" class="salvar" (click)="addCarro()" 
            [disabled]="!form.valid" [class.button-disabled]="!form.valid">Cadastrar</button>
            <button type="button" class="cancelar" (click)="cancelar()">Cancelar</button>
        </div>
        <div class="buttons"><button class="salvar" [routerLink]="['/lista-de-veiculos']">Ir para lista</button></div>
    </form>
</div>